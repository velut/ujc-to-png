---
import DownloadButton from "./DownloadButton.astro";
---

<div>
  <h2>Gallery</h2>

  <DownloadButton />

  {/* Gallery. */}
  <div
    class="not-prose bg-base-200 flex items-center justify-center rounded-xl border-2 border-dashed p-8 text-center"
  >
    <span class="text-balance motion-safe:animate-pulse" x-show="isBusy"
      >Processing nonograms, please wait...</span
    >
    <span class="text-balance" x-show="!isBusy && images.length === 0"
      >No nonograms found, try adding some files in the dropzone above.</span
    >

    {/* Gallery images. */}
    <div
      class="flex flex-wrap items-center justify-center gap-6"
      x-show="!isBusy && images.length > 0"
    >
      <template x-for="image in images" :key="image.url">
        <a
          :href="image.url"
          :title="image.file.name"
          target="_blank"
          class="hover:border-primary rounded-sm border-2"
        >
          <img
            class="size-32 bg-white object-contain [image-rendering:pixelated]"
            :src="image.url"
            :alt="image.file.name"
          />
        </a>
      </template>
    </div>
  </div>

  <DownloadButton />
</div>
